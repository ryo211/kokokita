# プロジェクト概要

## プロジェクト名
**kokokita（ココキタ）**

## プロジェクトの目的
SwiftUIとCore Dataを使用したiOS向けの位置情報ベースの訪問記録アプリ。GPS座標を暗号署名付きで記録し、なりすましを防止する。写真、ラベル、グループ、メンバーを使って訪問記録を管理できる。

## ターゲット
- iOS 17+
- macOS (Darwin)

## 主要機能
1. **訪問記録の作成**: GPS位置情報を暗号署名付きで記録
2. **改ざん検出**: P256 ECDSA署名による不正検出
3. **位置情報偽装検出**: `isSimulatedBySoftware`、`isProducedByAccessory`のチェック
4. **POI検索（ココカモ）**: 近隣の興味地点を検索して施設情報を適用
5. **写真管理**: 訪問記録に最大4枚の写真を添付
6. **タクソノミー管理**: ラベル、グループ、メンバーでの分類
7. **フィルタリングと検索**: 複数条件でのフィルタリング、キーワード検索

## アーキテクチャスタイル
**Feature-based MV（Model-View）アーキテクチャ**
- iOS 17+の@Observableマクロを使用
- ViewModelではなくStoreで状態管理
- コロケーション最優先: 機能単位でファイルをグループ化

## プロジェクト言語
- **コード（変数、関数、クラス名）**: 英語
- **コメント**: 日本語
- **ログメッセージ**: 日本語
- **ユーザー向けメッセージ**: 日本語（ローカライズ対応）

## 重要な技術詳細
- Core Dataで永続化
- CryptoKitによる暗号署名（P256 ECDSA）
- 秘密鍵はKeychainに保存（タグ: `jp.kokokita.signingkey.soft`）
- MapKitによるPOI検索（半径100m）
- 写真はファイルシステムに保存、パスのみCore Dataに記録