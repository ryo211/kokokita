# ADR (Architecture Decision Record)

## 概要

ADRは、プロジェクトにおける重要な技術的決定を記録するためのドキュメントです。なぜその決定をしたのか、どのような選択肢があったのか、その結果どうなったのかを記録します。

**設計書と同様、気軽に作成・更新できることを重視**します。

## 目的

- 技術的決定の背景と理由を明確にする
- 将来のメンバーが過去の判断を理解できるようにする
- 同じ議論を繰り返さないようにする
- プロジェクトの技術的な変遷を追跡する

## 重要な方針

**完璧を求めない**: 重要な決定を記録することが目的です。形式にこだわらず、必要な情報が残っていれば十分です。

## ADRを作成すべき場合

以下のような技術的決定にはADRを作成することを推奨します：

- アーキテクチャパターンの選択（MVVM、Clean Architecture等）
- ライブラリやフレームワークの採用/変更
- データモデルの大きな変更
- セキュリティに関する重要な決定
- パフォーマンスに関する重要な決定
- 開発プロセスやツールの変更
- API設計の方針

## 命名規則

```
番号-タイトル.md
```

例:
```
001-Core-Dataによる永続化層の実装.md
002-CryptoKitを使用した署名検証.md
```

## ステータス

各ADRは以下のステータスを持ちます（決定の状態を追跡するため）：

- **採用 (Accepted)**: 採用された決定
- **却下 (Rejected)**: 採用されなかった決定
- **置き換え (Superseded)**: 別のADRに置き換えられた

シンプルに保つため、基本的には「採用」でOKです。

## 作成方法

1. `template.md`をコピーして新しいファイルを作成
2. 命名規則に従ってファイル名を設定
3. テンプレートから必要な部分を埋める（全部埋める必要はありません）
4. 必要に応じてmermaid図を追加
5. 実装と並行して内容を更新

## 既存ADRの更新

既存のADRは基本的に変更しません。新しい決定が必要な場合は：

1. 新しいADRを作成
2. 古いADRのステータスを「置き換え (Superseded)」に変更
3. 新しいADRへのリンクを追加

## ディレクトリ構造

```
doc/ADR/
├── README.md (このファイル)
├── template.md (テンプレート)
└── NNN-タイトル.md (個別のADR)
```

## 参考資料

- [ADR GitHub](https://adr.github.io/)
- [Documenting Architecture Decisions](https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions)
